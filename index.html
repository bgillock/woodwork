<html lang="en">

<head>
    <title>Woodwork</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
       <link rel="stylesheet" href="css/layout.css">
   </head>
</head>
<div id="assembly">
    <div style="position: absolute; margin-right: 2px; margin-top: 2px; z-index:265">
        <input id="assemblyreadout"></input>
    </div>
</div>
<div id="editscene">
    <a>Grid size</a>
    <input name="gridsize" id="gsize" size=10 value="1000">
</div>
<div id="cuttop">
    <div style="position: absolute; margin-right: 2px; margin-top: 2px; z-index:265">
    </div>
</div>
<div id="cutpersp">
    <div style="position: absolute; margin-right: 2px; margin-top: 2px; z-index:265">
        <img id="placehor" src="images/PlaceHorizontal.png" height="24" width="24"></img>
        <img id="placevert" src="images/PlaceVertical.png" height="24" width="24"></img>
    </div>
</div>
<div id="cutfront">
    <div style="position: absolute; margin-right: 2px; margin-top: 2px; z-index:265">
    </div>
</div>
<div id="cutright"></div>
<div id="lumberyard">
    <select name="woodsize" id="woodsize">Size</select>
    <select name="woodtype" id="woodtype">Type</select>
    <button name="pull" id="pull">Pull</button>
</div>

<body>   
    <script>
        var gridGeometry
        var gridHelper, plane
        var mouse, raycaster, isShiftDown = false;
        var isControlDown = false
        var selectionMade = false
        var selectedPiece = null
        var rollOverMaterial = null
        var currentPiece = ""
        var assemblyObjects = []
        var cutObjects = []
        var pieces = []
        var cutPiece = null
        var cutScene = null

    </script>
    <script src="lib/three.min.js"></script>
    <script src="lib/OrbitControls.js"></script>
    <script src="lib/ThreeCSG.js"></script>
    <script src="lib/Detector.js"></script>
    <script src="src/face.js"></script>
    <script src="src/piece.js"></script>
    <script src="src/meshpiece.js"></script>
    <script src="src/assembly.js"></script>
    <script src="src/cut.js"></script>
    <script src="src/grid.js"></script>
    <script src="src/pull.js"></script>
    <script src="src/woodtypes.js"></script>
    <script>        
        var defaultPieceShape = new THREE.Vector3(400, 75, 100)
        if (!Detector.webgl) Detector.addGetWebGLMessage();
        var defaultCutterShape = new THREE.Vector3(20, 300, 300)
        var cutter = new MeshPiece(defaultCutterShape,0)
        initAssembly()
        renderAssembly()
        cutScene = initCutScene()
        var origin = new THREE.Vector3(defaultPieceShape.x / 2, defaultPieceShape.y / 2, defaultPieceShape.z / 2)
        cutPiece = new MeshPiece(defaultPieceShape, 1)
        cutPiece.addToScene(cutScene, cutObjects)
        cutPiece.position(origin)
        loadCutScene(cutPiece)
        cutter.highlight()
        var origin = new THREE.Vector3(0, 0, 0)
        cutter.addToScene(cutScene, cutObjects)
        cutter.position(origin)
        renderCut()
        initPull()
    </script>

</body>

</html>